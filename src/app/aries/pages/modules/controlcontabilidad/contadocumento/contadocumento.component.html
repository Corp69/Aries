<hr>
<p-toast position="top-center" key="tc"></p-toast>
<p-blockUI [blocked]="Ariesblocked"></p-blockUI>
<p-card header="Fiscal - Comprobante">

    <!-- Formulario de la vista -->
        <!-- Agregar Informcion del formulario -->
        <form [formGroup]="frm" autocomplete="off">
            <p-divider align="center">
                <span class="p-tag">Comprobante: 
                </span>
            </p-divider>

            <!-- Card para hacer la division entre cliente y sucursal  -->
            <div class="grid">
                <div class="col-5 flex align-items-center justify-content-center">
                    <div class="p-fluid">
                        <i class="pi pi-user"></i>
                        &nbsp;Cliente:
                    </div>
                </div>
                <div class="col-2">
                    <p-divider layout="vertical">
                    </p-divider>
                </div>
                <div class="col-5 flex align-items-center justify-content-center">
                    <i class="pi pi-home"></i>
                    &nbsp;Sucursal:
                </div>
            </div>
            
            <!-- Configuracion  data de cliente y sucursal -->
            <div class="row">
                <div class="col-sm-6">
                   
                </div>
                <div class="col-sm-6">
                    
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <div class="p-inputgroup">
                        <span class="p-inputgroup-addon">
                            <p-button
                            pTooltip="Buscar un cliente."
                            severity="info"
                            icon="pi pi-search"
                            label="Cliente"
                            tooltipPosition="bottom"
                        >
                        </p-button>
                        </span>
                        <textarea 
                            rows="1" 
                            cols="50" 
                            pInputText
                            pTooltip="Cliente receptor el comprobante"
                            pInputTextarea
                            [disabled]="true" 
                            placeholder="Seleccione un cliente.">
                        </textarea>
                    </div>
                    <p-message severity="error" text="Campo es obligatorio: se debe seleccionar un cliente."
                            *ngIf="frm.controls['ver'].invalid">
                        </p-message>
                </div>
            </div>

            <p-divider align="left">
                <div class="inline-flex align-items-center">
                    <i class="pi pi-spin pi-cog"></i>
                    &nbsp; Informaci√≥n General:
                </div>
            </p-divider>
    
            <div class="row">
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>ver:</label>
                        <input
                            pTooltip="version de timbrado"
                            tooltipPosition="bottom"
                            formControlName="ver"
                            pInputText
                            placeholder="Vacio" />
                        <p-message severity="error" text="Campo Es Obligatorio "
                            *ngIf="frm.controls['ver'].invalid">
                        </p-message>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>serie:</label>
                        <input
                            pTooltip="serie"
                            tooltipPosition="bottom"
                            formControlName="serie"
                            pInputText
                            placeholder="Vacio" />
                    <p-message severity="error" text="Campo Es Obligatorio "
                        *ngIf="frm.controls['serie'].invalid">
                    </p-message>
                    </div>
                </div>
    
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>Folio:</label>
                        <input
                            pTooltip="folio"
                            tooltipPosition="bottom"
                            formControlName="folio"
                            pInputText
                            placeholder="Vacio" />
                    </div>
                </div>
    
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>Fecha Creacion:</label>
                        <input
                            pTooltip="fecha_creacion"
                            tooltipPosition="bottom"
                            formControlName="fecha_creacion"
                            pInputText placeholder="Vacio" />
                    </div>
                </div>
            </div>
    
            <div class="row">
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>Fecha:</label>
                        <input
                            pTooltip="fecha"
                            tooltipPosition="bottom"
                            formControlName="fecha"
                            pInputText
                            placeholder="Vacio" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>Empleado:</label>
                        <input
                            pTooltip="id_rh_empleado"
                            tooltipPosition="bottom"
                            formControlName="id_rh_empleado"
                            pInputText
                            placeholder="Vacio" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>id_cliente:</label>
                        <input
                            pTooltip="id_cliente"
                            tooltipPosition="bottom"
                            formControlName="id_cliente"
                            pInputText
                            placeholder="Vacio" />
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="flex flex-column gap-2">
                        <label>Fecha:</label>
                        <input
                            pTooltip="fecha"
                            tooltipPosition="bottom"
                            formControlName="fecha"
                            pInputText
                            placeholder="Vacio" />
                    </div>
                </div>
            </div>
            <p-divider align="left">
                <div class="inline-flex align-items-center">
                    <i class="pi pi-spin pi-cog"> </i>
                    &nbsp; configuraciones:
                </div>
            </p-divider>
    
            <div class="flex flex-wrap gap-3">
                <div class="flex align-items-center">
                    <p-inputGroup>
                        <p-inputGroupAddon pTooltip="Seleccione Un Tipo De Proveedor: con ello haremos futuras configuraciones"
                        tooltipPosition="bottom" >
                            <i class="pi pi-wrench">&nbsp; Tipo:</i>
                        </p-inputGroupAddon>
                    </p-inputGroup>
                    <p-dropdown
                        pTooltip="Seleccione Un Tipo De Proveedor: con ello haremos futuras configuraciones"
                        tooltipPosition="bottom"
                        formControlName="serie"
                        placeholder="seleccione una opcion"
                        value="id_tipo"
                        optionValue="id" optionLabel="descripcion"
                        >
                    </p-dropdown>
                    <!-- [options]="lstProveedorTipo" -->
                    
                </div>
                <div class="flex align-items-center">
                    <p-inputGroup>
                        <p-inputGroupAddon
                        pTooltip="Seleccione Un Estatus De Proveedor: con ello haremos haras visible en busquedas, documentos etc. "
                        tooltipPosition="bottom" >
                            <i class="pi pi-wrench">&nbsp; Estatus:</i>
                        </p-inputGroupAddon>
                    </p-inputGroup>
                    <p-dropdown
                        pTooltip="Seleccione Un Tipo Estatus: Se Habilita o Deshabilita Visualmente."
                        tooltipPosition="bottom"
                        value="id_estatus"
                        placeholder="seleccione una opcion"
                        formControlName="serie"
                        optionValue="id"
                        optionLabel="descripcion"
                    >
                </p-dropdown>
                <!-- [options]="lstestatus" -->
                      
                </div>
            </div>
        </form>



</p-card>

<hr>
<!-- 
<p-card header="BOTONES - Compra">

    <p-divider align="left">
        <div class="inline-flex align-items-center">
            <i class="pi pi-user mr-2"></i>
            <b>Funciones Usuario:</b>
        </div>
</p-divider>

<span class="p-buttonset">

  
    
    <p-button
    icon="pi pi-plus"
    label="Nuevo"
    (click)="NuevoProvedor()"
    pTooltip="Reinicia Formulario Del Proveedor."
    tooltipPosition="bottom"
    severity="primary"
    >
    </p-button>

    &nbsp;

    <p-button
        icon="pi pi-pencil"
        pTooltip="Almacenar: Proveedor Informcion."
        tooltipPosition="bottom"
        (click)="Almacenar()"
        label="Guardar"
        severity="success">
        <p-progressSpinner *ngIf="BtnSpinner" styleClass="w-4rem h-4rem" strokeWidth="8"
            fill="var(--surface-ground)" animationDuration=".5s"></p-progressSpinner>
    </p-button>

    &nbsp;

    <p-button
        icon="pi pi-search"
        pTooltip="Buscar: Un Proveedor."
        tooltipPosition="bottom"
        (click)="lstProveedores()"
        label="Buscar"
        severity="info"
    >
    </p-button>

</span>

</p-card> -->

<hr>

<p-card header="CONTA - Documento">

    <p-table [value]="DataSource" dataKey="id">
        <ng-template pTemplate="header">
          <tr>
            <th></th>
            <th></th>
            <th 
                pSortableColumn="cantidad">Cantidad<p-sortIcon field="cantidad"></p-sortIcon>
            </th>
            <th  
              pSortableColumn="prefijo">Prefijo<p-sortIcon field="prefijo"></p-sortIcon>
            </th>
            <th  
                pSortableColumn="descripcion">Descripcion<p-sortIcon field="descripcion"></p-sortIcon>
            </th>
            <th 
              pSortableColumn="valor_unitario">Precio Unitario<p-sortIcon field="valor_unitario"></p-sortIcon>
            </th>
            <th 
              pSortableColumn="importe">Importe<p-sortIcon field="importe"></p-sortIcon>
            </th>
            <th 
              pSortableColumn="descuento">Descuento<p-sortIcon field="descuento"></p-sortIcon>
            </th>
        </tr>
        </ng-template>
        <ng-template pTemplate="body" let-DataSource
        >
          <tr>
            <td>
              <button
              pTooltip="Modificar: Registro."
              tooltipPosition="top"
              (click)="selectRowActividad( DataSource.id )"
              pButton
              icon="pi pi-file-edit"
              type="button"
              class="p-button-Info">
            </button>
            </td>
            <td>
             <button
              pTooltip="Eliminar: Registro."
              tooltipPosition="top"
              pButton
              icon="pi pi-trash"
              type="button"
              class="p-button-danger">
            </button>
            </td>
            <td>
              <div [innerHTML]="DataSource.cantidad"></div>
            </td>
            <td>
              <div [innerHTML]="DataSource.prefijo"></div>
            </td>
            <td>
              <div [innerHTML]="DataSource.descripcion"></div>
            </td>
            <td>
              <div [innerHTML]="DataSource.valor_unitario"></div>
            </td>
            <td>
              <div [innerHTML]="DataSource.importe"></div>
            </td>
            <td>
                <div [innerHTML]="DataSource.descuento"></div>
            </td>
        </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="6">No hay registros.</td>
            </tr>
        </ng-template>
    </p-table>

</p-card>